# UnityNetMQPythonV2
https://www.youtube.com/watch?v=sxRyDekLCGo

# 노션
https://sassy-oil-5c0.notion.site/Unity-NetMQ-Python-2670017842be801db1c9ef56f44434d2?pvs=74



현재 시스템은 '파이썬 주도형(Python-Driven)' 아키텍처로 구성되어 있습니다. 모든 판단과 제어는 '뇌'인 파이썬이 담당하고, '몸'인 유니티는 그 지시를 받아 표현만 하는 명확한 역할 분담 구조입니다.

## 🧠 Python (뇌 + 귀): 지휘 센터
파이썬 서버가 시스템의 모든 것을 제어합니다.

상시 감지: 서버가 직접 컴퓨터의 마이크를 항상 듣고 있으며, 실시간으로 소리 크기(데시벨)를 분석합니다.

상태 결정: 주변 소리가 조용한지, 사용자가 말을 시작했는지 스스로 판단하여 현재 시스템의 상태를 Idle, Listen, Talk, Cooldown으로 결정합니다.

녹음 및 처리: 사용자의 목소리가 감지되면 직접 녹음을 진행하고, 이를 오디오 파일(.wav)로 저장합니다.

명령 방송: 결정된 현재 상태와 처리 결과(오디오 파일 경로, 제스처)를 ZeroMQ의 방송(Publish) 기능을 이용해 유니티 클라이언트에게 지속적으로 전송합니다.

## 🧊 Unity (몸): 연기자
유니티 클라이언트는 이제 스스로 판단하지 않고, 오직 파이썬의 지시를 따릅니다.

명령 구독: 유니티는 파이썬 방송국이 송출하는 상태 메시지를 **구독(Subscribe)**하여 계속 듣고만 있습니다.

상태 표현: 파이썬으로부터 Listen이라는 메시지를 받으면 '듣기' 애니메이션을 재생하고, Talk이라는 메시지를 받으면 '말하기' 애니메이션과 함께 전달받은 파일 경로의 오디오를 재생합니다.

시각화: 수신한 상태에 따라 UI 아이콘의 색상을 바꾸는 등 시각적인 피드백을 사용자에게 보여줍니다.

## 작동 순서 요약
파이썬이 주변 소리가 조용하다고 판단하고, 유니티에 Idle 상태를 방송합니다.

사용자가 말을 시작하면 파이썬이 이를 감지하고, 유니티에 Listen 상태를 방송합니다.

유니티는 Listen 애니메이션을 재생하고, 동시에 파이썬은 녹음을 시작하여 파일로 저장합니다.

녹음이 끝나면 파이썬은 유니티에 Talk 상태와 함께 녹음된 파일의 경로, 제스처 정보를 방송합니다.

유니티는 Talk 애니메이션을 재생하고, 전달받은 경로의 오디오 파일을 재생합니다.

일정 시간 후 파이썬이 다시 Idle 상태를 방송하면, 사이클이 반복됩니다.
